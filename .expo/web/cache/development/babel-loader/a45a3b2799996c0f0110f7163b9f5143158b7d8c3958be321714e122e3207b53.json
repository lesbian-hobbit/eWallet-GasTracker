{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Touchable from \"react-native-web/dist/exports/Touchable\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport React, { useState, useEffect } from 'react';\nimport { auth, firebase } from \"../firebase\";\nimport { collection, query, setDoc, doc, getDoc, querySnapshot, documentSnapshot, getDocs, snapshotEqual, onSnapshot } from 'firebase/firestore';\nimport { db } from \"../firebase\";\nimport { getAuth } from 'firebase/auth';\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar Logs = function Logs() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    logInfo = _useState2[0],\n    setLogs = _useState2[1];\n  useEffect(function () {\n    var todoRef = firebase.firestore().collection(\"users\").doc(\"LlsVwIQz9hMMDtHgQLlT\").collection(\"Logs\");\n    var unsubscribe = todoRef.onSnapshot(function (querySnapshot) {\n      var logInfo = [];\n      querySnapshot.forEach(function (doc) {\n        var _doc$data = doc.data(),\n          ReceiverUid = _doc$data.ReceiverUid,\n          Timestamp = _doc$data.Timestamp,\n          transactions = _doc$data.transactions;\n        var formattedTimestamp = Timestamp.toDate().toLocaleString();\n        logInfo.push({\n          id: doc.id,\n          ReceiverUid: ReceiverUid,\n          Timestamp: formattedTimestamp,\n          transactions: transactions\n        });\n      });\n      setLogs(logInfo);\n      console.log(logInfo);\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, []);\n  return _jsx(View, {\n    children: logInfo.map(function (item, index) {\n      return _jsxs(Text, {\n        children: [\"sent: $\", item.transactions, \" To \", item.ReceiverUid, \" in \", item.Timestamp]\n      }, index);\n    })\n  });\n};\nexport default Logs;","map":{"version":3,"names":["React","useState","useEffect","auth","firebase","collection","query","setDoc","doc","getDoc","querySnapshot","documentSnapshot","getDocs","snapshotEqual","onSnapshot","db","getAuth","onAuthStateChanged","signOut","jsxs","_jsxs","jsx","_jsx","Logs","_useState","_useState2","_slicedToArray","logInfo","setLogs","todoRef","firestore","unsubscribe","forEach","_doc$data","data","ReceiverUid","Timestamp","transactions","formattedTimestamp","toDate","toLocaleString","push","id","console","log","View","children","map","item","index","Text"],"sources":["C:/Users/mamit/OneDrive/Desktop/mobile_Team_Progress_june15/screens/Logs.js"],"sourcesContent":["import { View, Text, FlatList,ActivityIndicator, StyleSheet,Alert, Pressable, TextInput, Button, Touchable, TouchableOpacity, KeyboardAvoidingView } from 'react-native';\r\nimport React ,{useState, useEffect} from 'react';\r\nimport { auth, firebase } from '../firebase';\r\nimport {collection,query, setDoc, doc, getDoc, querySnapshot, documentSnapshot, getDocs, snapshotEqual, onSnapshot} from 'firebase/firestore'\r\nimport { db } from '../firebase'\r\nimport { getAuth } from 'firebase/auth';\r\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\r\n\r\nconst Logs = () => {\r\n  const [logInfo, setLogs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const todoRef = firebase\r\n      .firestore()\r\n      .collection(\"users\")\r\n      .doc(\"LlsVwIQz9hMMDtHgQLlT\")\r\n      .collection(\"Logs\");\r\n\r\n    const unsubscribe = todoRef.onSnapshot((querySnapshot) => {\r\n      const logInfo = [];\r\n      querySnapshot.forEach((doc) => {\r\n        const { ReceiverUid, Timestamp, transactions } = doc.data();\r\n        const formattedTimestamp = Timestamp.toDate().toLocaleString();\r\n        logInfo.push({\r\n          id: doc.id,\r\n          ReceiverUid,\r\n          Timestamp: formattedTimestamp,\r\n          transactions,\r\n        });\r\n      });\r\n      setLogs(logInfo);\r\n      console.log(logInfo);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  return (\r\n    <View>\r\n      {logInfo.map((item, index) => (\r\n        <Text key={index}>\r\n          sent: ${item.transactions} To {item.ReceiverUid} in {item.Timestamp}\r\n        </Text>\r\n      ))}\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default Logs;"],"mappings":";;;;;;;;;;;;;AACA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAChD,SAASC,IAAI,EAAEC,QAAQ;AACvB,SAAQC,UAAU,EAACC,KAAK,EAAEC,MAAM,EAAEC,GAAG,EAAEC,MAAM,EAAEC,aAAa,EAAEC,gBAAgB,EAAEC,OAAO,EAAEC,aAAa,EAAEC,UAAU,QAAO,oBAAoB;AAC7I,SAASC,EAAE;AACX,SAASC,OAAO,QAAQ,eAAe;AACvC,SAASC,kBAAkB,EAAEC,OAAO,QAAQ,eAAe;AAAC,SAAAC,IAAA,IAAAC,KAAA;AAAA,SAAAC,GAAA,IAAAC,IAAA;AAE5D,IAAMC,IAAI,GAAG,SAAPA,IAAIA,CAAA,EAAS;EACjB,IAAAC,SAAA,GAA2BvB,QAAQ,CAAC,EAAE,CAAC;IAAAwB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAhCG,OAAO,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EAEvBvB,SAAS,CAAC,YAAM;IACd,IAAM2B,OAAO,GAAGzB,QAAQ,CACrB0B,SAAS,CAAC,CAAC,CACXzB,UAAU,CAAC,OAAO,CAAC,CACnBG,GAAG,CAAC,sBAAsB,CAAC,CAC3BH,UAAU,CAAC,MAAM,CAAC;IAErB,IAAM0B,WAAW,GAAGF,OAAO,CAACf,UAAU,CAAC,UAACJ,aAAa,EAAK;MACxD,IAAMiB,OAAO,GAAG,EAAE;MAClBjB,aAAa,CAACsB,OAAO,CAAC,UAACxB,GAAG,EAAK;QAC7B,IAAAyB,SAAA,GAAiDzB,GAAG,CAAC0B,IAAI,CAAC,CAAC;UAAnDC,WAAW,GAAAF,SAAA,CAAXE,WAAW;UAAEC,SAAS,GAAAH,SAAA,CAATG,SAAS;UAAEC,YAAY,GAAAJ,SAAA,CAAZI,YAAY;QAC5C,IAAMC,kBAAkB,GAAGF,SAAS,CAACG,MAAM,CAAC,CAAC,CAACC,cAAc,CAAC,CAAC;QAC9Db,OAAO,CAACc,IAAI,CAAC;UACXC,EAAE,EAAElC,GAAG,CAACkC,EAAE;UACVP,WAAW,EAAXA,WAAW;UACXC,SAAS,EAAEE,kBAAkB;UAC7BD,YAAY,EAAZA;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;MACFT,OAAO,CAACD,OAAO,CAAC;MAChBgB,OAAO,CAACC,GAAG,CAACjB,OAAO,CAAC;IACtB,CAAC,CAAC;IAEF,OAAO;MAAA,OAAMI,WAAW,CAAC,CAAC;IAAA;EAC5B,CAAC,EAAE,EAAE,CAAC;EAEN,OACET,IAAA,CAACuB,IAAI;IAAAC,QAAA,EACFnB,OAAO,CAACoB,GAAG,CAAC,UAACC,IAAI,EAAEC,KAAK;MAAA,OACvB7B,KAAA,CAAC8B,IAAI;QAAAJ,QAAA,GAAa,SACT,EAACE,IAAI,CAACX,YAAY,EAAC,MAAI,EAACW,IAAI,CAACb,WAAW,EAAC,MAAI,EAACa,IAAI,CAACZ,SAAS;MAAA,GAD1Da,KAEL,CAAC;IAAA,CACR;EAAC,CACE,CAAC;AAEX,CAAC;AAED,eAAe1B,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}