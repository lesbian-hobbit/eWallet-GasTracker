{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { firebase } from \"../firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Logs = function Logs() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    logInfo = _useState2[0],\n    setLogs = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  useEffect(function () {\n    var todoRef = firebase.firestore().collection('users').doc('LlsVwIQz9hMMDtHgQLlT').collection('Logs').orderBy('Timestamp', 'desc');\n    var unsubscribe = todoRef.onSnapshot(function (querySnapshot) {\n      var logInfo = [];\n      querySnapshot.forEach(function (doc) {\n        var _doc$data = doc.data(),\n          ReceiverUid = _doc$data.ReceiverUid,\n          Timestamp = _doc$data.Timestamp,\n          transactions = _doc$data.transactions;\n        var formattedTimestamp = Timestamp.toDate().toLocaleString();\n        logInfo.push({\n          id: doc.id,\n          ReceiverUid: ReceiverUid,\n          Timestamp: formattedTimestamp,\n          transactions: transactions\n        });\n      });\n      setLogs(logInfo);\n      setLoading(false);\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, []);\n  if (loading) {\n    return _jsx(View, {\n      style: styles.loadingContainer,\n      children: _jsx(ActivityIndicator, {\n        size: \"large\",\n        color: \"black\"\n      })\n    });\n  }\n  return _jsx(FlatList, {\n    data: logInfo,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return _jsxs(Text, {\n        children: [\"sent: $\", item.transactions, \" To \", item.ReceiverUid, \" in \", item.Timestamp]\n      });\n    },\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    }\n  });\n};\nexport default Logs;\nvar styles = StyleSheet.create({\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Text","FlatList","ActivityIndicator","StyleSheet","firebase","jsx","_jsx","jsxs","_jsxs","Logs","_useState","_useState2","_slicedToArray","logInfo","setLogs","_useState3","_useState4","loading","setLoading","todoRef","firestore","collection","doc","orderBy","unsubscribe","onSnapshot","querySnapshot","forEach","_doc$data","data","ReceiverUid","Timestamp","transactions","formattedTimestamp","toDate","toLocaleString","push","id","style","styles","loadingContainer","children","size","color","renderItem","_ref","item","keyExtractor","create","flex","justifyContent","alignItems"],"sources":["C:/Users/mamit/OneDrive/Desktop/mobile_Team_Progress_june15/screens/Logs.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, Text, FlatList, ActivityIndicator, StyleSheet} from 'react-native';\r\nimport { firebase } from '../firebase';\r\n\r\nconst Logs = () => {\r\n  const [logInfo, setLogs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const todoRef = firebase\r\n      .firestore()\r\n      .collection('users')\r\n      .doc('LlsVwIQz9hMMDtHgQLlT')\r\n      .collection('Logs')\r\n      .orderBy('Timestamp', 'desc'); // Order the logs by timestamp in descending order\r\n\r\n    const unsubscribe = todoRef.onSnapshot((querySnapshot) => {\r\n      const logInfo = [];\r\n      querySnapshot.forEach((doc) => {\r\n        const { ReceiverUid, Timestamp, transactions } = doc.data();\r\n        const formattedTimestamp = Timestamp.toDate().toLocaleString();\r\n        logInfo.push({\r\n          id: doc.id,\r\n          ReceiverUid,\r\n          Timestamp: formattedTimestamp,\r\n          transactions,\r\n        });\r\n      });\r\n      setLogs(logInfo);\r\n      setLoading(false);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <View style={styles.loadingContainer}>\r\n        <ActivityIndicator size=\"large\" color=\"black\" />\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <FlatList\r\n      data={logInfo}\r\n      renderItem={({ item }) => (\r\n        <Text>\r\n          sent: ${item.transactions} To {item.ReceiverUid} in {item.Timestamp}\r\n        </Text>\r\n      )}\r\n      keyExtractor={(item) => item.id}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Logs;\r\n\r\nconst styles = StyleSheet.create({\r\n  loadingContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}