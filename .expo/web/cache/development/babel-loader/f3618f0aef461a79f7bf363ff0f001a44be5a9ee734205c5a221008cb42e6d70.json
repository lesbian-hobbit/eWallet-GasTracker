{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Touchable from \"react-native-web/dist/exports/Touchable\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport React, { useState, useEffect } from 'react';\nimport { auth, firebase } from \"../firebase\";\nimport { useNavigation } from '@react-navigation/core';\nimport { collection, query, setDoc, doc, getDoc, querySnapshot, documentSnapshot, getDocs, snapshotEqual, onSnapshot } from 'firebase/firestore';\nimport { db } from \"../firebase\";\nimport { getAuth } from 'firebase/auth';\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar receiveLogs = function receiveLogs() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    logInfo = _useState2[0],\n    setLogs = _useState2[1];\n  var navigation = useNavigation();\n  var onPress = function onPress() {\n    navigation.navigate(\"receiveLogs\");\n  };\n  useEffect(function () {\n    var user = auth.currentUser.uid;\n    if (user) {\n      var uid = user;\n      var todoRef = firebase.firestore().collection(\"users\").doc(uid).collection(\"history\").doc(\"DUgVrFDJhas4wAuX07re\").collection(\"Recieved\");\n      var unsubscribe = onSnapshot(todoRef, function (querySnapshot) {\n        var logs = querySnapshot.docs.map(function (doc) {\n          var _doc$data = doc.data(),\n            ReceiverUid = _doc$data.ReceiverUid,\n            Timestamp = _doc$data.Timestamp,\n            transactions = _doc$data.transactions,\n            Sender = _doc$data.Sender;\n          var formattedTimestamp = \"\";\n          if (Timestamp && Timestamp.toDate) {\n            formattedTimestamp = Timestamp.toDate().toLocaleString();\n          }\n          return {\n            id: doc.id,\n            ReceiverUid: ReceiverUid,\n            Timestamp: formattedTimestamp,\n            transactions: transactions,\n            Sender: Sender\n          };\n        });\n        setLogs(logs);\n        console.log(logs);\n      });\n      return function () {\n        return unsubscribe();\n      };\n    }\n  }, []);\n  return _jsxs(View, {\n    children: [logInfo.map(function (item, index) {\n      return _jsxs(Text, {\n        children: [\"received $\", item.transactions, \" from \", item.Sender, \" in \", item.Timestamp]\n      }, index);\n    }), _jsxs(TouchableOpacity, {\n      style: styles.mediumButtonContainer,\n      onPress: onPress,\n      children: [_jsx(View, {\n        style: styles.circleContainer,\n        children: _jsx(View, {\n          style: styles.circle,\n          children: _jsx(Ionicons, {\n            name: \"send\",\n            size: 20,\n            color: \"white\"\n          })\n        })\n      }), _jsx(Text, {\n        style: [styles.titleText, {\n          color: 'black'\n        }],\n        children: \"Recieved history\"\n      })]\n    })]\n  });\n};\nexport default receiveLogs;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    backgroundColor: 'white'\n  },\n  header: {\n    height: 120,\n    padding: 20,\n    borderRadius: 25,\n    alignItems: 'center',\n    backgroundColor: 'royalblue'\n  },\n  titleText: {\n    fontSize: 12,\n    color: 'white'\n  },\n  HeadlineText: {\n    fontSize: 12,\n    marginBottom: 10,\n    color: 'gray'\n  },\n  regularText: {\n    fontSize: 30,\n    color: \"white\"\n  },\n  buttonsContainer: {\n    flexDirection: 'row',\n    marginBottom: 20,\n    justifyContent: 'space-evenly'\n  },\n  mediumButtonContainer: {\n    height: 90,\n    width: 90,\n    padding: 20,\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'row',\n    borderRadius: 20,\n    alignContent: 'center',\n    flexWrap: 'wrap',\n    backgroundColor: 'white'\n  },\n  circle: {\n    width: 40,\n    height: 40,\n    borderRadius: 100,\n    backgroundColor: 'black',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 5\n  },\n  smallButtonContainer: {\n    height: 50,\n    width: 50,\n    padding: 10,\n    marginBottom10: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'row',\n    borderRadius: 10,\n    alignContent: 'center',\n    flexWrap: 'wrap',\n    backgroundColor: 'black'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","auth","firebase","useNavigation","collection","query","setDoc","doc","getDoc","querySnapshot","documentSnapshot","getDocs","snapshotEqual","onSnapshot","db","getAuth","onAuthStateChanged","signOut","Ionicons","jsxs","_jsxs","jsx","_jsx","receiveLogs","_useState","_useState2","_slicedToArray","logInfo","setLogs","navigation","onPress","navigate","user","currentUser","uid","todoRef","firestore","unsubscribe","logs","docs","map","_doc$data","data","ReceiverUid","Timestamp","transactions","Sender","formattedTimestamp","toDate","toLocaleString","id","console","log","View","children","item","index","Text","TouchableOpacity","style","styles","mediumButtonContainer","circleContainer","circle","name","size","color","titleText","StyleSheet","create","container","flex","padding","backgroundColor","header","height","borderRadius","alignItems","fontSize","HeadlineText","marginBottom","regularText","buttonsContainer","flexDirection","justifyContent","width","alignContent","flexWrap","smallButtonContainer","marginBottom10"],"sources":["C:/Users/mamit/OneDrive/Desktop/mobile_Team_Progress_june15/screens/receiveLogs.js"],"sourcesContent":["import { View, Text, FlatList,ActivityIndicator, StyleSheet,Alert, Pressable, TextInput, Button, Touchable, TouchableOpacity, KeyboardAvoidingView } from 'react-native';\r\nimport React ,{useState, useEffect} from 'react';\r\nimport { auth, firebase } from '../firebase';\r\nimport { useNavigation } from '@react-navigation/core'\r\nimport {collection,query, setDoc, doc, getDoc, querySnapshot, documentSnapshot, getDocs, snapshotEqual, onSnapshot} from 'firebase/firestore'\r\nimport { db } from '../firebase'\r\nimport { getAuth } from 'firebase/auth';\r\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\r\nimport { Ionicons } from \"@expo/vector-icons\"\r\n\r\nconst receiveLogs = () => {\r\n  const [logInfo, setLogs] = useState([]);\r\n  const navigation = useNavigation()\r\n  const onPress = () => {\r\n    navigation.navigate(\"receiveLogs\")\r\n  }\r\n  useEffect(() => {\r\n    const user = auth.currentUser.uid;\r\n    if (user) {\r\n      const uid = user;\r\n      const todoRef = firebase.firestore().collection(\"users\").doc(uid).collection(\"history\").doc(\"DUgVrFDJhas4wAuX07re\").collection(\"Recieved\");\r\n\r\n      const unsubscribe = onSnapshot(todoRef, (querySnapshot) => {\r\n        const logs = querySnapshot.docs.map((doc) => {\r\n          const { ReceiverUid, Timestamp, transactions, Sender } = doc.data();\r\n          let formattedTimestamp = \"\";\r\n          if (Timestamp && Timestamp.toDate) {\r\n            formattedTimestamp = Timestamp.toDate().toLocaleString();\r\n          }\r\n          return {\r\n            id: doc.id,\r\n            ReceiverUid,\r\n            Timestamp: formattedTimestamp,\r\n            transactions,\r\n            Sender\r\n            \r\n          };\r\n        });\r\n        setLogs(logs);\r\n        console.log(logs);\r\n      });\r\n\r\n      return () => unsubscribe();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <View>\r\n     \r\n      {logInfo.map((item, index) => (\r\n        <Text key={index}>\r\n          received ${item.transactions} from {item.Sender} in {item.Timestamp}\r\n        </Text>\r\n      ))}\r\n      <TouchableOpacity style={styles.mediumButtonContainer} onPress={onPress}>\r\n          <View style={styles.circleContainer}>\r\n            <View style={styles.circle}>\r\n              <Ionicons name=\"send\" size={20} color=\"white\" />\r\n            </View>\r\n          </View>\r\n          <Text style={[styles.titleText, { color: 'black' }]}>Recieved history</Text>\r\n        </TouchableOpacity>\r\n    </View>\r\n    \r\n    \r\n  );\r\n  \r\n};\r\n\r\nexport default receiveLogs;\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n      padding: 16,\r\n      backgroundColor: 'white',\r\n    },\r\n    header: {\r\n      height: 120,\r\n      padding: 20,\r\n      borderRadius: 25,\r\n      alignItems: 'center',\r\n      backgroundColor: 'royalblue',\r\n    },\r\n    titleText: {\r\n      fontSize: 12,\r\n      color: 'white',\r\n    },\r\n    HeadlineText: {\r\n      fontSize: 12,\r\n      marginBottom: 10,\r\n      color: 'gray'\r\n    },\r\n    regularText: {\r\n      fontSize: 30,\r\n      color: \"white\",\r\n    },\r\n    buttonsContainer: {\r\n      flexDirection: 'row',\r\n      marginBottom: 20,\r\n      justifyContent: 'space-evenly',\r\n    },\r\n    mediumButtonContainer: {\r\n      height: 90,\r\n      width: 90,\r\n      padding: 20,\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      flexDirection: 'row',\r\n      borderRadius: 20,\r\n      alignContent: 'center',\r\n      flexWrap: 'wrap',\r\n      backgroundColor: 'white'\r\n    },\r\n    circle: {\r\n      width: 40,\r\n      height: 40,\r\n      borderRadius: 100,\r\n      backgroundColor: 'black',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      marginBottom: 5,\r\n    },\r\n    smallButtonContainer: {\r\n      height: 50,\r\n      width: 50,\r\n      padding: 10,\r\n      marginBottom10: 10,\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      flexDirection: 'row',\r\n      borderRadius: 10,\r\n      alignContent: 'center',\r\n      flexWrap: 'wrap',\r\n      backgroundColor: 'black'\r\n    },\r\n  });"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}